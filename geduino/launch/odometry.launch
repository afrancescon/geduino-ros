<!--
 odometry.launch

 Copyright (C) 2018 Alessandro Francescon

 This program is free software: you can redistribute it and/or modify
 it under the terms of the GNU General Public License as published by
 the Free Software Foundation, either version 3 of the License.

 This program is distributed in the hope that it will be useful,
 but WITHOUT ANY WARRANTY; without even the implied warranty of
 MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 GNU General Public License for more details.

 You should have received a copy of the GNU General Public License
 along with this program.  If not, see <http://www.gnu.org/licenses/>.
-->

<launch>

  <group ns="odometry">

    <!-- The MD25 -->
    <node machine="geduino2" pkg="md25" type="md25_node" name="md25" respawn="true" output="log">
      <rosparam file="$(find geduino)/config/md25_params.yaml" command="load" />
      <remap from="/odom"               to="/odometry/odom" />
    </node>

    <!-- The odometry complementary filter -->
    <node machine="geduino2" pkg="md25" type="complementary_filter_node" name="complementary_filter" respawn="true" output="log">
      <rosparam file="$(find geduino)/config/complementary_filter_params.yaml" command="load" />
      <remap from="/odom"               to="/odometry/odom" />
      <remap from="/odom_filtered"      to="/odometry/odom_filtered" />
    </node>

    <!-- The odometry euler -->
    <node machine="geduino2" pkg="md25" type="odom_to_euler_node" name="odom_to_euler" respawn="true" output="log">
      <remap from="/odom"               to="/odometry/odom" />
      <remap from="/euler"              to="/odometry/euler" />
    </node>

    <!-- The filtered odometry euler -->
    <node machine="geduino2" pkg="md25" type="odom_to_euler_node" name="filtered_odom_to_euler" respawn="true" output="log">
      <remap from="/odom"               to="/odometry/odom_filtered" />
      <remap from="/euler"              to="/odometry/euler_filtered" />
    </node>

  </group>

</launch>
