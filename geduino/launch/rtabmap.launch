<!-- 
 rtabmap.launch

 Copyright (C) 2017 Alessandro Francescon
 
 This program is free software: you can redistribute it and/or modify
 it under the terms of the GNU General Public License as published by
 the Free Software Foundation, either version 3 of the License.
 
 This program is distributed in the hope that it will be useful,
 but WITHOUT ANY WARRANTY; without even the implied warranty of
 MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 GNU General Public License for more details.
 
 You should have received a copy of the GNU General Public License
 along with this program.  If not, see <http://www.gnu.org/licenses/>.
-->

<launch>

	<group ns="rtabmap">

		<node machine="geduino1" name="rtabmap" pkg="rtabmap_ros" type="rtabmap" output="screen" args="--delete_db_on_start">

			<remap from="odom" to="/odom"/>
			<remap from="scan" to="/scan"/>
			<remap from="rgb/image" to="/camera/rgb/image_rectified"/>
			<remap from="rgb/camera_info" to="/camera/rgb/camera_info"/>
			<remap from="depth/image" to="/camera/depth_registered/image_rectified"/>
  
			<param name="frame_id"			type="string" value="base_link"/>
			<param name="map_frame_id"		type="string" value="map"/>
			<param name="subscribe_depth"		type="bool" value="true"/>
			<param name="subscribe_scan"		type="bool" value="true"/>
			<param name="queue_size"		type="int" value="10"/>
			<param name="RGBD/NeighborLinkRefining" type="string" value="true"/>
			<param name="RGBD/ProximityBySpace"     type="string" value="true"/>
			<param name="RGBD/AngularUpdate"        type="string" value="0.01"/>
			<param name="RGBD/LinearUpdate"         type="string" value="0.01"/>
			<param name="RGBD/OptimizeFromGraphEnd" type="string" value="false"/>
			<param name="Optimizer/Slam2D"          type="string" value="true"/>
			<param name="Reg/Strategy"              type="string" value="1"/>
			<param name="Reg/Force3DoF"             type="string" value="true"/>
			<param name="Vis/MinInliers"            type="string" value="5"/>
			<param name="Vis/InlierDistance"        type="string" value="0.1"/>
			<param name="Rtabmap/TimeThr"           type="string" value="700"/>
			<param name="Mem/RehearsalSimilarity"   type="string" value="0.45"/>
			<param name="Grid/FromDepth" type="string" value="false"/>

		</node>

	</group>

</launch>
